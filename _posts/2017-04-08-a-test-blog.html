---
date: 2017-04-08 17:23
author: mzimmerm
layout: post
title: a-test-blog 
excerpt: Testing org2jekyll-create-draft
tags: 
categories: 
- categories_required
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org766831e">1. Things I had to add or modify, to get org and org html export working</a>
<ul>
<li><a href="#orge3f5bd0">1.1. In export to html, to achieve:</a></li>
<li><a href="#org262c18a">1.2. To achieve my own formatting, added following files in ORG/{CSS, JS} files</a></li>
<li><a href="#orgc9fd875">1.3. Notes</a></li>
</ul>
</li>
<li><a href="#orgf47d200">2. <span class="todo TODO">TODO</span> Todos</a></li>
<li><a href="#orgd41133a">3. Basic Babel export to Html</a></li>
<li><a href="#orge588dd8">4. Running <code>org2jekyll-create-draft</code></a></li>
<li><a href="#org74ff389">5. Name of this file</a></li>
<li><a href="#org21bac61">6. Verbatim vs Code markup: = vs ~</a></li>
<li><a href="#org6f8d9a5">7. Inline code blocks - src _ language{ .. } and call _ func(arg1=1, arg2=2). Note: no space before {</a></li>
<li><a href="#org8fbb0fe">8. Three types of lists</a></li>
<li><a href="#orge5eb412">9. Code highlighting</a></li>
<li><a href="#org7c848be">10. <span class="todo TODO">TODO</span> Properties</a>
<ul>
<li><a href="#orgffbb96d">10.1. Testing the <code>header-arguments :dir</code> property</a>
<ul>
<li><a href="#org646f389">10.1.1. Create some dirs</a></li>
<li><a href="#org240fb2b">10.1.2. First result uses global (top) definition of dir = /home/mzimmermann/tmp/one</a></li>
<li><a href="#org1c4ba8b">10.1.3. Second result uses the BEGIN_ SRC  definition of dir = /home/mzimmermann/tmp/two</a></li>
<li><a href="#org7918f28">10.1.4. Third result uses overriden property dir</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org8829886">11. Tags</a></li>
<li><a href="#org3f3a2b4">12. <span class="todo TODO">TODO</span> Properies and columns</a>
<ul>
<li><a href="#orgcfb7624">12.1. Subtree</a></li>
</ul>
</li>
<li><a href="#org658f89a">13. Startup indent test (using customize)</a>
<ul>
<li><a href="#orgedc0702">13.1. p1</a>
<ul>
<li><a href="#org50db20c">13.1.1. p2</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgefa6a4f">14. Image export and publishing to HTML : issues and solutions</a>
<ul>
<li><a href="#org2f4a4d5">14.1. Image export issue</a></li>
<li><a href="#orgf4d47db">14.2. The image export solution - creating and modifying link types</a>
<ul>
<li><a href="#org51d2d14">14.2.1. The image export solution with motivation</a></li>
<li><a href="#org06b55b9">14.2.2. The image export solution - testing</a></li>
<li><a href="#org957ef14">14.2.3. Why is the <b>file:</b> org link type solution better than <b>img:</b>?</a></li>
</ul>
</li>
<li><a href="#orgd012f9d">14.3. The image export workaround (NOT needed)</a>
<ul>
<li><a href="#orge003549">14.3.1. The workaround - motivation</a></li>
<li><a href="#orga95f160">14.3.2. The workaround - testing</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc37d14e">15. MathJax configurations</a></li>
<li><a href="#org6c3a5ac">16. Math Formulas using Latex</a></li>
<li><a href="#org89ae06c">17. Math Formulas using ASCIIMath</a>
<ul>
<li><a href="#orgc7bc4c1">17.1. Numbering equations in ASCIIMath</a>
<ul>
<li><a href="#org27e4017">17.1.1. Numbering equations in ASCIIMath - a full example</a>
<ul>
<li><a href="#org2c53fad">17.1.1.1. Combinatorics basics</a></li>
<li><a href="#org4ed9c41">17.1.1.2. Combinatorics advanced</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#org41f3278">18. Section added 2019-08-03</a></li>
</ul>
</div>
</div>
<p>
<b>This post is a test of misc org features, and their Html export. Reviewed till ch 6 included. Review progress on Ch 7.</b>
</p>

<div id="outline-container-org766831e" class="outline-2">
<h2 id="org766831e"><span class="section-number-2">1.</span> Things I had to add or modify, to get org and org html export working</h2>
<div class="outline-text-2" id="text-1">
<p>
Details are inline, here is a summary from 2021-10-14 - todo
</p>
</div>

<div id="outline-container-orge3f5bd0" class="outline-3">
<h3 id="orge3f5bd0"><span class="section-number-3">1.1.</span> In export to html, to achieve:</h3>
<div class="outline-text-3" id="text-1-1">
<dl class="org-dl">
<dt>Nice fontification in Babel code blocks</dt><dd>Installed from Melpa, package <code>htmlize</code></dd>
<dt>Images and links showing correctly</dt><dd>Created new org mode link types for images and links :
<ul class="org-ul">
<li><b>img:</b> link type to correctly export links to images to html.</li>
<li><b>file:</b> link type changes to correctly export links to images to html.</li>
<li><b>post-jekyll:</b> link type to correctly export links to other org files (in blog) to html.</li>
</ul></dd>
<dt>ASCIIMath working</dt><dd>customize <code>org-export-with-sub-superscripts</code> to 'do not interpret'. This can also be set per file using option <code>#+OPTIONS: ^:nil</code>.</dd>
<dt>Mathjax working</dt><dd>in <code>_includes/header.html</code>, added <code>{ % include mathjax-stuff-new.html % }</code> which adds script, src-ed to a online MathJax.js, properly configured as <code>TeX-MML-AM_CHTML</code>.</dd>
<dt>Export showing numbered headers, etc</dt><dd>Modified front matter options generated by <code>org2jekyll-create-draft</code> from <code>H: 2</code> to 5, <code>num: nil</code> to t. Setting <code>toc: t</code> breaks export - the blog jumps out of Jekyll envelop. Use the following in future blog entries:
<ul class="org-ul">
<li>set # + OPTIONS H:5 num:t tags:nil toc:nil timestamps:t</li>
<li>this can be edited in org2jekyll.el source</li>
</ul></dd>
<dt>For my own ORG/{CSS, JS} files to be used by the Jekyll process, 2 steps are needed</dt><dd>Remember Jekyll composes (aka messes up) the final HTML. Any added CSS, JS or other things that go to <code>&lt;header&gt;</code> must be added to <code>_includes/header.html</code>:
<ul class="org-ul">
<li>add <b># + HTML_HEAD: &lt;link rel="stylesheet" type="text/css" href="my-org-mode.css" /&gt;</b> to the blog org file (this is needed for the css. js to be copied to $BLOG/css)</li>
<li>add a link href in <b>_includes/header.html</b> <code>&lt;link href="{{ site.baseurl }}/css/gongzhitaao-org-mode.css" rel="stylesheet" type="text/css"&gt;</code> (this is needed because org2jekyll discards the &lt;head&gt; section after the html export, before copying result to _posts, to allow Jekyll composition from _includes/header.html).</li>
<li>Touch to make CSS, JS etc published - If we want a changed or newly added CSS, JS to be copied to $BLOG/css, touch the file - the Org2jekyll publishing is sort of a make which only picks up changed files.</li>
</ul></dd>
</dl>
</div>
</div>

<div id="outline-container-org262c18a" class="outline-3">
<h3 id="org262c18a"><span class="section-number-3">1.2.</span> To achieve my own formatting, added following files in ORG/{CSS, JS} files</h3>
<div class="outline-text-3" id="text-1-2">
<dl class="org-dl">
<dt>Diobla</dt><dd>see <a href="http://diobla.info/doc/rtags">http://diobla.info/doc/rtags</a></dd>
<dt>Zhitao Gong </dt><dd><a href="https://github.com/gongzhitaao/orgcss">https://github.com/gongzhitaao/orgcss</a></dd>
<dt>My Org Theme</dt><dd>my-org-mode.css</dd>
<dt>Theme from dakrone</dt><dd><a href="http://dakrone.github.io/org2.css">http://dakrone.github.io/org2.css</a></dd>
</dl>

<p>
Note they need to be touched, and added to  <b>_includes/header.html</b> (see above)
</p>

<p>
<b>Currently (2017-07-14) I use my own CSS: <code>my-org-mode.css</code> which borrows from some of the above.</b>
</p>
</div>
</div>

<div id="outline-container-orgc9fd875" class="outline-3">
<h3 id="orgc9fd875"><span class="section-number-3">1.3.</span> Notes</h3>
<div class="outline-text-3" id="text-1-3">
<dl class="org-dl">
<dt>Properties on top</dt><dd>All properties on top of the org file, except <code>:header-args dir</code>, are front matter, generated by <code>org2jekyll-create-draft</code></dd>
<dt><code>:header-args dir</code></dt><dd>I added this to test some babel runs: this defines the default home directory for babel source code.</dd>
</dl>
</div>
</div>
</div>

<div id="outline-container-orgf47d200" class="outline-2">
<h2 id="orgf47d200"><span class="section-number-2">2.</span> <span class="todo TODO">TODO</span> Todos</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li class="on"><code>[X]</code> use my own css
<ul class="org-ul">
<li class="on"><code>[X]</code> but get better fonts</li>
</ul></li>
<li class="on"><code>[X]</code> where in org2jekyll is the front matter created? can this be changed? - yes, see org2jekyll.el</li>
<li class="off"><code>[&#xa0;]</code> figure out how to export functional index - probably export from org and check result, reconcile with jekyll.</li>
</ul>
</div>
</div>

<div id="outline-container-orgd41133a" class="outline-2">
<h2 id="orgd41133a"><span class="section-number-2">3.</span> Basic Babel export to Html</h2>
<div class="outline-text-2" id="text-3">
<p>
This source:
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #73d216;">#+BEGIN_SRC sh :exports both</span>
<span style="color: #b3b3b3;">ls -1</span>
<span style="color: #73d216;">#+END_SRC</span>
</pre>
</div>

<p>
Results in this:
</p>

<div class="org-src-container">
<pre class="src src-sh">ls -1
</pre>
</div>

<p>
Both the code content and the result do show because we set <code>:exports both</code>
</p>
</div>
</div>
<div id="outline-container-orge588dd8" class="outline-2">
<h2 id="orge588dd8"><span class="section-number-2">4.</span> Running <code>org2jekyll-create-draft</code></h2>
<div class="outline-text-2" id="text-4">
<p>
Created an empty file with Org front matter like this:
</p>

<div class="org-src-container">
<pre class="src src-org"><span style="color: #73d216;">#+STARTUP: showall</span>
<span style="color: #73d216;">#+STARTUP: hidestars</span>
<span style="color: #73d216;">#+OPTIONS: H:2 num:nil tags:nil toc:nil timestamps:t</span>
<span style="color: #73d216;">#+LAYOUT: post</span>
<span style="color: #b3b3b3;">#+AUTHOR:</span> <span style="color: #afeeee;">mzimmerm</span>
<span style="color: #b3b3b3;">#+DATE:</span> <span style="color: #afeeee;">2017-04-08 Sat 17:23</span>
<span style="color: #b3b3b3;">#+TITLE:</span> <span style="color: #afeeee; font-weight: bold;">a-test-blog </span>
<span style="color: #73d216;">#+DESCRIPTION: Testing org2jekyll-create-draft</span>
<span style="color: #73d216;">#+TAGS: org_mode org2jekyll</span>
<span style="color: #73d216;">#+CATEGORIES: categories_required</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org74ff389" class="outline-2">
<h2 id="org74ff389"><span class="section-number-2">5.</span> Name of this file</h2>
<div class="outline-text-2" id="text-5">
<p>
The file name is <b>a-test-blog.org</b> so this is concatenated from title, with no date. 
</p>
</div>
</div>

<div id="outline-container-org21bac61" class="outline-2">
<h2 id="org21bac61"><span class="section-number-2">6.</span> Verbatim vs Code markup: = vs ~</h2>
<div class="outline-text-2" id="text-6">
<ul class="org-ul">
<li>This is a <code>literal (verbatim) text with link [[a link][http://some.html]]</code> (surrounded by = ) in text.</li>

<li>This is a <code>literal code section text with link [[a link][http://some.html]]</code>  (surrounded by ~ ) in text. 

<ul class="org-ul">
<li>So the above, by default, shows that verbatim and code have same font after conversion to html.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org6f8d9a5" class="outline-2">
<h2 id="org6f8d9a5"><span class="section-number-2">7.</span> Inline code blocks - src _ language{ .. } and call _ func(arg1=1, arg2=2). Note: no space before {</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>Example 1 - exports code:
<ul class="org-ul">
<li><i>text:</i>   <code>src_sh[:exports code]{echo "hello"} plugged in text, inline.</code></li>
<li><i>result:</i> <code class="src src-sh"><span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">"hello"</span></code> plugged in text, inline.</li>
</ul></li>

<li>Example 2 - exports both
<ul class="org-ul">
<li><i>text:</i>   <code>src_sh[:exports both]{echo "hello"} plugged in text, inline.</code></li>
<li><i>result:</i> <code class="src src-sh"><span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">"hello"</span></code> <code>hello</code> plugged in text, inline.</li>
</ul></li>

<li>Example 3: - exports results. This is <b>likely the most common use of inline code blocks</b>
<ul class="org-ul">
<li><i>text:</i>   <code>src_sh[:exports results]{echo "hello"} plugged in text, inline.</code></li>
<li><i>result:</i> <code>hello</code> plugged in text, inline.</li>
</ul></li>

<li>Example 4 - exports results. As above, showing exports results is default in src_
<ul class="org-ul">
<li><i>text:</i> <code>src_sh{echo "hello"} plugged in text, inline</code></li>
<li><i>result:</i> <code>hello</code> plugged in text, inline.</li>
</ul></li>

<li>Example 5: This shows the inside literally as code, so does not call the code
<ul class="org-ul">
<li><i>text:</i>   <code>src_sh[:exports code]{ls -l}</code> allsurrounded by ~ in text:</li>
<li><i>result:</i> <code>src_sh[:exports code]{ls -l} - ls -l refuses to work, result with newline is not allowed in inline calls</code></li>
</ul></li>

<li>Example 6: Defining function add-in-shell in BEGIN_ SRC 

<ul class="org-ul">
<li><p>
<i>text:</i>
</p>
<pre class="example">
#+name: add-in-shell
#+BEGIN_SRC sh :var arg1=1 :var arg2=2
echo arg1 plus arg2 = $(($arg1 + $arg2))
#+END_SRC
</pre></li>
<li><p>
<i>result:</i> - this displays code, correctly fontified:
</p>
<div class="org-src-container">
<pre class="src src-sh" id="org5531b75"><span style="color: #e090d7;">echo</span> arg1 plus arg2 = $(($<span style="color: #fcaf3e;">arg1</span> + $<span style="color: #fcaf3e;">arg2</span>))
</pre>
</div></li>
</ul></li>

<li>Example 7:

<ul class="org-ul">
<li><i>text:</i>   The following files are in home dir <code>src_sh{ls -1}</code></li>
<li><i>result:</i> The following files are in home dir <code>src_sh{ls -1} - ls -l refuses to work, result with newline is not allowed in inline calls. Message: *list results cannot be used*</code></li>
</ul></li>

<li>Example 8: Calling add-in-shell:
<ul class="org-ul">
<li><i>text:</i>   <code>call_add-in-shell(arg1=3, arg2=4)</code></li>
<li><i>result:</i> <code>arg1 plus arg2 = 7</code></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org8fbb0fe" class="outline-2">
<h2 id="org8fbb0fe"><span class="section-number-2">8.</span> Three types of lists</h2>
<div class="outline-text-2" id="text-8">
<p>
There are 3 types of lists in org. This is how they convert to html:
</p>

<ol class="org-ol">
<li><i>Ordered List = Numbered List</i>: Shopping list
<ol class="org-ol">
<li>The Attack of the Clones</li>
<li>Drones
<ul class="org-ul">
<li>Blue</li>
<li>Red</li>
</ul></li>
<li>Coffee</li>
</ol></li>
<li><i>Unordered List = Bulleted List</i>: Favourite Movies, no particular order:
<ul class="org-ul">
<li>Krakatit.</li>
<li>The Avatar.</li>
</ul></li>
<li><i>Description List</i>: No order. Has :: between key and value. Key is highlighted. Does not indent items.
<dl class="org-dl">
<dt>Karel Capek  </dt><dd>Povetron</dd>
<dt>Karel Capek  </dt><dd>Valka s Mloky. The description list also wraps very nicely after the : : .</dd>
<dt>Abrakah Dabra</dt><dd>Is cool.</dd>
</dl></li>
</ol>
</div>
</div>

<div id="outline-container-orge5eb412" class="outline-2">
<h2 id="orge5eb412"><span class="section-number-2">9.</span> Code highlighting</h2>
<div class="outline-text-2" id="text-9">
<p>
Needed <code>htmlize</code> to work.
</p>

<p>
Sh code:
</p>

<div class="org-src-container">
<pre class="src src-sh">
<span style="color: #fcaf3e;">AVAR</span>=<span style="color: #e9b96e;">"something 1"</span>
<span style="color: #fcaf3e;">OTHER</span>=<span style="color: #e9b96e;">"soma else"</span>

<span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">"Variable AVAR is set to ${AVAR}"</span>
<span style="color: #b4fa70;">if</span> [ $<span style="color: #fcaf3e;">AVAR</span> = <span style="color: #e9b96e;">"something"</span> ]; <span style="color: #b4fa70;">then</span>
    <span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">"AVAR was as expected"</span>
<span style="color: #b4fa70;">else</span>
    <span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">"UNEXPECTED AVAR"</span>
<span style="color: #b4fa70;">fi</span>

<span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">"In shell, :results output is default; can add ~raw~ to not use TABLES IN RESULTS"</span>

</pre>
</div>


<p>
Python code equivalent:
</p>

<div class="org-src-container">
<pre class="src src-python">
<span style="color: #fcaf3e;">AVAR</span>   = <span style="color: #e9b96e;">"something"</span>
<span style="color: #fcaf3e;">OTHER</span>  = <span style="color: #e9b96e;">"soma else"</span>

<span style="color: #b4fa70;">print</span> (<span style="color: #e9b96e;">"Variable AVAR is set to "</span>) + AVAR
<span style="color: #b4fa70;">if</span> AVAR == <span style="color: #e9b96e;">"something"</span>:
    <span style="color: #b4fa70;">print</span>( <span style="color: #e9b96e;">"AVAR was as expected"</span>)
<span style="color: #b4fa70;">else</span>:
    <span style="color: #b4fa70;">print</span> (<span style="color: #e9b96e;">"UNEXPECTED AVAR"</span>)

<span style="color: #b4fa70;">return</span> <span style="color: #e9b96e;">"In python, :results value is default, as python returns"</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org7c848be" class="outline-2">
<h2 id="org7c848be"><span class="section-number-2">10.</span> <span class="todo TODO">TODO</span> Properties</h2>
<div class="outline-text-2" id="text-10">
<p>
A property is a key-value pair associated with an entry. Here, "entry" is:
</p>

<ul class="org-ul">
<li>the whole document</li>
<li>tree started with heading</li>
</ul>

<p>
Properties can be set so they are associated with a single entry, with every entry in a tree, or with every entry in an Org mode file.
</p>

<p>
Properties are like tags, but with a value. 
</p>

<p>
Where can property be defined:
</p>

<ul class="org-ul">
<li><p>
Either anywhere in file (but do it always on top) as 
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #73d216;">#+PROPERTY: property-name-string property-value-string</span>
</pre>
</div></li>
<li><p>
Or in a drawer just below a heading as  
</p>
<div class="org-src-container">
<pre class="src src-org"><span style="color: #87cefa;">:PROPERTIES:</span>
<span style="color: #b4fa70;">:property-name-string:</span> property-value-string
<span style="color: #87cefa;">:END:</span>
</pre>
</div></li>
</ul>

<p>
Note the syntactic difference on how the key is defined 
</p>

<ul class="org-ul">
<li>in the PROPERTY section, <b>key is NOT surrounded with :</b></li>
<li>in the :PROPERTIES: drawer, <b>key IS surrounded with :</b></li>
</ul>

<p>
But the <b>key name</b> is in both cases <code>property-name-string</code>
</p>

<p>
For someone using org-babel a lot, I have really only encountered use of properties in defining the overwhelmingly complex property called header-args.
</p>

<p>
For the longest time, I was confused in how properties are used  <b>TODO</b> - finish this
</p>
</div>

<div id="outline-container-orgffbb96d" class="outline-3">
<h3 id="orgffbb96d"><span class="section-number-3">10.1.</span> Testing the <code>header-arguments :dir</code> property</h3>
<div class="outline-text-3" id="text-10-1">
</div>
<div id="outline-container-org646f389" class="outline-4">
<h4 id="org646f389"><span class="section-number-4">10.1.1.</span> Create some dirs</h4>
<div class="outline-text-4" id="text-10-1-1">
<div class="org-src-container">
<pre class="src src-sh">mkdir --parent /home/mzimmermann/tmp/{one,two,three}
<span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">""</span> &gt; /home/mzimmermann/tmp/one/file-1.txt
<span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">""</span> &gt; /home/mzimmermann/tmp/two/file-2.txt
<span style="color: #e090d7;">echo</span> <span style="color: #e9b96e;">""</span> &gt; /home/mzimmermann/tmp/three/file-3.txt

</pre>
</div>

<p>
There is a standard property with key named <code>dir</code>. This is a path to directory where Babel source blocks are executed.
</p>

<p>
This experiment shows how the <code>dir property</code> is used.
</p>
</div>
</div>

<div id="outline-container-org240fb2b" class="outline-4">
<h4 id="org240fb2b"><span class="section-number-4">10.1.2.</span> First result uses global (top) definition of dir = /home/mzimmermann/tmp/one</h4>
<div class="outline-text-4" id="text-10-1-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(directory-files <span style="color: #e9b96e;">"."</span>)
</pre>
</div>

<p>
(. ..)
(. .. file-1.txt file-in-directory-one.txt)
</p>
</div>
</div>


<div id="outline-container-org1c4ba8b" class="outline-4">
<h4 id="org1c4ba8b"><span class="section-number-4">10.1.3.</span> Second result uses the BEGIN_ SRC  definition of dir = /home/mzimmermann/tmp/two</h4>
<div class="outline-text-4" id="text-10-1-3">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(directory-files <span style="color: #e9b96e;">"."</span>)
</pre>
</div>

<p>
(. ..)
(. .. file-2.txt)
</p>
</div>
</div>


<div id="outline-container-org7918f28" class="outline-4">
<h4 id="org7918f28"><span class="section-number-4">10.1.4.</span> Third result uses overriden property dir</h4>
<div class="outline-text-4" id="text-10-1-4">
<p>
This result uses the PROPERTIES  definition of dir = /home/mzimmermann/tmp/three
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(directory-files <span style="color: #e9b96e;">"."</span>)
</pre>
</div>

<p>
(. ..)
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org8829886" class="outline-2">
<h2 id="org8829886"><span class="section-number-2">11.</span> Tags</h2>
<div class="outline-text-2" id="text-11">
<p>
Are labels for context (context = category)
</p>
</div>
</div>

<div id="outline-container-org3f3a2b4" class="outline-2">
<h2 id="org3f3a2b4"><span class="section-number-2">12.</span> <span class="todo TODO">TODO</span> Properies and columns</h2>
<div class="outline-text-2" id="text-12">
<p>
:COLUMNS:       %30ITEM %9Approved(Approved?){X} %Owner %11Status %10Time_Estimate{:} %CLOCKSUM %CLOCKSUM_T
:Owner_ALL:     John Peter Paul
:Status_ALL:    "In progress" "Not started yet" "Finished" ""
:Approved_ALL:  "[ ]" "[X]"
</p>


<p>
so this is column view?
</p>
</div>

<div id="outline-container-orgcfb7624" class="outline-3">
<h3 id="orgcfb7624"><span class="section-number-3">12.1.</span> Subtree</h3>
<div class="outline-text-3" id="text-12-1">
</div>
</div>
</div>

<div id="outline-container-org658f89a" class="outline-2">
<h2 id="org658f89a"><span class="section-number-2">13.</span> Startup indent test (using customize)</h2>
<div class="outline-text-2" id="text-13">
<p>
dfadsfadsf 
adfadsfasdf
</p>
</div>

<div id="outline-container-orgedc0702" class="outline-3">
<h3 id="orgedc0702"><span class="section-number-3">13.1.</span> p1</h3>
<div class="outline-text-3" id="text-13-1">
<p>
adfafd
asdfdsf
sdfasdf
</p>
</div>

<div id="outline-container-org50db20c" class="outline-4">
<h4 id="org50db20c"><span class="section-number-4">13.1.1.</span> p2</h4>
<div class="outline-text-4" id="text-13-1-1">
<p>
sdfadfs
asdfadsf
adfd
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgefa6a4f" class="outline-2">
<h2 id="orgefa6a4f"><span class="section-number-2">14.</span> Image export and publishing to HTML : issues and solutions</h2>
<div class="outline-text-2" id="text-14">
</div>
<div id="outline-container-org2f4a4d5" class="outline-3">
<h3 id="org2f4a4d5"><span class="section-number-3">14.1.</span> Image export issue</h3>
<div class="outline-text-3" id="text-14-1">
<p>
org-html-publish-to-html (C-c C-e h H) and org-publish-attachment messes up export from <b>file:</b> link type to html by generating
</p>

<blockquote>
<p>
&lt;img src="/img/a-image.png" \&gt;?
</p>
</blockquote>
<p>
which does NOT start at root, and does not work under http servers which can only serve on "path starting at served root". A question: is this behavior of org http export a bug or is there a rationalle?
</p>

<p>
There is no way to achieve this in "out of the box" org mode*. I tried those in the default org-html-publish-to-html :
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Org</td>
<td class="org-left">Works in org?</td>
<td class="org-left">Published as</td>
</tr>

<tr>
<td class="org-left">[/img/a-image.png]</td>
<td class="org-left">NO</td>
<td class="org-left">&lt;img src="fil e:///img/a-image.png" \&gt;</td>
</tr>

<tr>
<td class="org-left">[~/some-dir/img/a-image.png]</td>
<td class="org-left">NO</td>
<td class="org-left">&lt;img src="fil e:///some-dir/img/a-image.png"\&gt;</td>
</tr>

<tr>
<td class="org-left">[fil e:///img/a-image.png]</td>
<td class="org-left">NO</td>
<td class="org-left">&lt;img src="fil e:///img/a-image.png"\&gt;</td>
</tr>

<tr>
<td class="org-left">[./img/a-image.png]</td>
<td class="org-left">OK</td>
<td class="org-left">&lt;img src="./img/a-image.png"\&gt;</td>
</tr>

<tr>
<td class="org-left">[../img/a-image.png]</td>
<td class="org-left">OK</td>
<td class="org-left">&lt;img src="../img/a-image.png"\&gt;</td>
</tr>

<tr>
<td class="org-left">[f ile:img/a-image.png]</td>
<td class="org-left">OK</td>
<td class="org-left">&lt;img src="img/a-image.png"\&gt;</td>
</tr>
</tbody>
</table>

<p>
None of them results will work when under a http server, as path to not start at root.
</p>
</div>
</div>

<div id="outline-container-orgf4d47db" class="outline-3">
<h3 id="orgf4d47db"><span class="section-number-3">14.2.</span> The image export solution - creating and modifying link types</h3>
<div class="outline-text-3" id="text-14-2">
</div>
<div id="outline-container-org51d2d14" class="outline-4">
<h4 id="org51d2d14"><span class="section-number-4">14.2.1.</span> The image export solution with motivation</h4>
<div class="outline-text-4" id="text-14-2-1">
<p>
I created new org mode link types which are, during org export to html translated to html understood by Jekyll. Those link types are <b>img:</b> and <b>post-jekyll:</b>
</p>

<p>
*The core of the solution is inspired from <a href="http://stackoverflow.com/questions/14684263/how-to-org-mode-image-absolute-path-of-export-html">http://stackoverflow.com/questions/14684263/how-to-org-mode-image-absolute-path-of-export-html</a>.
</p>

<ul class="org-ul">
<li>I created my new org mode link types: <b>img:</b> and <b>post-jekyll:</b>.</li>
<li>I also changed the default behavior of export of the <b>file:</b> link type export - see <code>org-custom-link-file-follow</code> and <code>org-custom-link-file-export</code> and attached it to the <b>file:</b> link type.</li>
</ul>

<p>
Note: The <b>file:</b> type changes actually allow NOT NEEDING the <b>img:</b> type at all.
</p>
</div>
</div>

<div id="outline-container-org06b55b9" class="outline-4">
<h4 id="org06b55b9"><span class="section-number-4">14.2.2.</span> The image export solution - testing</h4>
<div class="outline-text-4" id="text-14-2-2">
<p>
Below are test of <b>file:</b> (changes only) <b>img:</b>,  <b>post-jekyll:</b> link types
</p>

<ol class="org-ol">
<li>Test <b>img:</b>                   : <code>[[img:a-test-blog.org_test-image.png]]</code> after html conversion: <i><b>expected in html not in org:</b> a small image just after the dash</i> - <img src="/img/a-test-blog.org_test-image.png" alt="nil"/>.</li>
<li>Test <b>file:</b> (BEST SOLUTION)  : <code>[[file:img/a-test-blog.org_test-image.png]]</code> after html conversion: <i><b>expected:</b> a small image just after the dash</i> - <img src="/img/a-test-blog.org_test-image.png" alt="nil"/>.</li>
<li>Test <b>file:</b>                  : <code>file:img/a-test-blog.org_test-image.png</code> after html conversion: <i><b>expected in html not in org:</b> a small image just after the dash</i> - <img src="/img/a-test-blog.org_test-image.png" alt="nil"/>.</li>
<li>Test my <b>post-jekyll:</b>        : <code>[[post-jekyll:blog-in-org-2-jekyll---1.-motivation.org][a short series about writing in org mode]]</code> after html conversion, <i><b>expected:</b> a working link just to another post after the dash</i> - <a href="{% post_url 2017-04-08-blog-in-org-2-jekyll---1.-motivation %}">a short series about writing in org mode</a>
<ul class="org-ul">
<li>The precondition is the post must be already org2-published</li>
</ul></li>
<li><p>
Test non-image <b>file:</b> links  : <code>[[file:img/a-test-blog.org-test-file.txt]]</code> after html conversion, <i><b>expected in html not in org:</b> a working link to text file after the dash</i> - <a href="/img/a-test-blog.org-test-file.txt">img/a-test-blog.org-test-file.txt</a>
</p>

<p>
Notes:
</p></li>

<li><p>
Both <b>img:</b> on image and <b>file:</b> on image generate:
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fce94f;">img</span> <span style="color: #fcaf3e;">src</span>=<span style="color: #e9b96e;">"/img/a-test-blog.org_test-image.png"</span> <span style="color: #fcaf3e;">alt</span>=<span style="color: #e9b96e;">"nil"</span>/&gt;
</pre>
</div></li>
<li><p>
<b>file:</b> on non-image generates:
</p>
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="color: #fce94f;">a</span> <span style="color: #fcaf3e;">href</span>=<span style="color: #e9b96e;">"/img/a-test-page.pdf"</span>&gt;/img/a-test-page.pdf&lt;/<span style="color: #fce94f;">a</span>&gt;
</pre>
</div></li>
</ol>
</div>
</div>

<div id="outline-container-org957ef14" class="outline-4">
<h4 id="org957ef14"><span class="section-number-4">14.2.3.</span> Why is the <b>file:</b> org link type solution better than <b>img:</b>?</h4>
<div class="outline-text-4" id="text-14-2-3">
<ol class="org-ol">
<li><p>
The <b>img:</b> link type works in Jekyll but does not show in emacs. This line in ob.el shows why the <b>img:</b> will not display in org mode - only file: can be image in org mode
</p>
<div class="org-src-container">
<pre class="src src-elisp">(<span style="color: #b4fa70;">when</span> (<span style="color: #b4fa70;">and</span> (equal (org-element-property <span style="color: #e090d7;">:type</span> link) <span style="color: #e9b96e;">"file"</span>)
</pre>
</div></li>

<li><p>
Try this
</p>
<div class="org-src-container">
<pre class="src src-elisp">(org-open-file <span style="color: #e9b96e;">"./img/a-test-blog.org_test-image.png"</span>)
</pre>
</div></li>
</ol>
</div>
</div>
</div>

<div id="outline-container-orgd012f9d" class="outline-3">
<h3 id="orgd012f9d"><span class="section-number-3">14.3.</span> The image export workaround (NOT needed)</h3>
<div class="outline-text-3" id="text-14-3">
</div>
<div id="outline-container-orge003549" class="outline-4">
<h4 id="orge003549"><span class="section-number-4">14.3.1.</span> The workaround - motivation</h4>
<div class="outline-text-4" id="text-14-3-1">
<p>
There is a simpler but hack-ier solution to display exported images correctly: We create a directory link from the org/img directory to a img directory above the posts. This works because the generated <code>&lt;img src=/../../some-img.png&gt;</code> tag in, say, 2017/04/a-test-blog.html, reaches ../../img.
</p>

<p>
This makes images works both in org and html, with the caveat the images are referenced as [../../img/some-image.png].
</p>

<p>
In more detail, do this:
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #e090d7;">cd</span> $<span style="color: #fcaf3e;">BLOG</span> <span style="color: #73d216;"># </span><span style="color: #73d216;">e.g. /whatever/mzimmerm.github.io/</span>
<span style="color: #e090d7;">cd</span> ..
ln -s $<span style="color: #fcaf3e;">BLOG</span>/org/img img
</pre>
</div>

<p>
If we prepare the above link (ln), we can use a "no link type" link in the org file
</p>
</div>
</div>

<div id="outline-container-orga95f160" class="outline-4">
<h4 id="orga95f160"><span class="section-number-4">14.3.2.</span> The workaround - testing</h4>
<div class="outline-text-4" id="text-14-3-2">
<p>
An inline link to <code>[[../../img/a-test-blog.org_test-image.png]]</code> should display a image.  <i><b>expected:</b> a small image just after the dash</i> - [[../../img/a-test-blog.org_test-image.png]
</p>

<p>
The link above, generates html like this: <code>&lt;img src="/../../img/a-test-blog.org_test-image.png"&gt;</code> which works when served in an http server, because the generated blog posts are located in <code>root:2017/04/a-test-blog</code>, and two levels up to <code>img</code> exists and is not outside the http server root folder. At the same time it works in emacs org mode, as this workaround created the "faked" link directory "org/../../img", where "org" is the current directory while editing in emacs.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc37d14e" class="outline-2">
<h2 id="orgc37d14e"><span class="section-number-2">15.</span> MathJax configurations</h2>
<div class="outline-text-2" id="text-15">
<p>
MathJax can be passed options to configure it to display various formats:
</p>

<blockquote>
<p>
Allows math to be specified in TeX, LaTeX, MathML, or AsciiMath notation, with the AMSmath and AMSsymbols packages included, producing output using MathML if the browser supports it sufficiently, and HTML-with-CSS otherwise.
</p>
</blockquote>

<p>
See <a href="http://docs.mathjax.org/en/latest/">http://docs.mathjax.org/en/latest/</a>
</p>

<p>
The two sections below describe some nuances for displaying Latex and ASCIIMath in Org2Jekyll and Jekyll.
</p>
</div>
</div>

<div id="outline-container-org6c3a5ac" class="outline-2">
<h2 id="org6c3a5ac"><span class="section-number-2">16.</span> Math Formulas using Latex</h2>
<div class="outline-text-2" id="text-16">
<p>
First, delete the following from the org file if present after <code>org2jekyll-create-draft</code>:
</p>

<p>
OPTIONS: tex:t
HTML_MATHJAX: path:"<a href="http://cdn.mathjax.org/mathjax/latest/MathJax.js">http://cdn.mathjax.org/mathjax/latest/MathJax.js</a>"
HTML_MATHJAX: align: left indent: 5em tagside: left font: Neo-Euler
</p>

<p>
The Javascript that MathJax will use, must be configured directly in Jekyll, in <code>./_includes/mathjax-stuff-new.html</code>. Also, see the <code>./_includes/mathjax-stuff.html</code> which I found somewhere - maybe it's Jekyll default.
</p>

<p>
There are 3 ways to put Latex in org text:
</p>

<ol class="org-ol">
<li><p>
Start with \begin .. \end{equation}, surround by empty lines. Example:
</p>

\begin{equation}  x=\sqrt{b}
\end{equation}</li>

<li><p>
Display mode: Start with double dollar on lines above and below Latex:  <code>\[..latex here..\]</code> or <code>$$..latex here..$$</code>. Examples:
</p>

<p>
\[
  x = \sqrt{b} + c^4
  \]
</p>

<p>
\[
  y = \sqrt{c} + d^3
  \]
</p></li>

<li>Inline mode: Put <code>\(..latex here..\)</code> or <code>$..latex here..$</code>  around latex. But this may clash on export with dollars etc. This is some latex inline, e.g. \(x = \sqrt{b} + c^4\) or \(y = \sqrt{c} + d^3\) which is nice.  <b>Prefer using ~\(etc\)</b></li>

<li>Try <code>org-preview-latex-fragment</code> (bound to C-c C-x C-l). s C-c C-x C-l here (or C-u C-c C-x C-l to preview everything in the subtree, or C-u C-u C-c C-x C-l to preview everything in the buffer)</li>
</ol>
</div>
</div>

<div id="outline-container-org89ae06c" class="outline-2">
<h2 id="org89ae06c"><span class="section-number-2">17.</span> Math Formulas using ASCIIMath</h2>
<div class="outline-text-2" id="text-17">
<p>
<b>An important prerequisit to get this working in org export, is to customize <code>org-export-with-sub-superscripts</code> to 'do not interpret'. This can also be set per file using option # + OPTIONS: ^:nil</b>
</p>

<ol class="org-ol">
<li>Sum: `sum_(i=1)^n i^3=((n(n+1))/2)^2`</li>

<li>Prescripts: `{::}_(\92)^238U` or `{::}_92^238U` ? Both work, so use the second which is simple.</li>

<li>Separate the &lt; sign with spaces so `x &lt; y` displays nicely</li>

<li>Integrals: `int_0^oo e^(-x^2) dx = sqrt(pi) / 2`</li>

<li></li>
</ol>
</div>


<div id="outline-container-orgc7bc4c1" class="outline-3">
<h3 id="orgc7bc4c1"><span class="section-number-3">17.1.</span> Numbering equations in ASCIIMath</h3>
<div class="outline-text-3" id="text-17-1">
<p>
Test link references:
</p>
<ul class="org-ul">
<li><a href="#org37da9ec">somesection-10</a></li>
<li><a href="#orgcbd893e">section.10</a></li>
</ul>

<p>
After some trying, these are the ways to number equations - no way to do it on the right, and no way to add spacing
</p>

<ol class="org-ol">
<li><p>
This renders nice, so just use the first, e.g. (1).
</p>

<p>
(1) `a^2 + b^2 = c^2`
</p>

<p>
(2) `ax^2 + bx + c = 0`
</p>

<p>
(3) `x = (-b+-sqrt(b^2-4ac))/(2a)`
</p></li>

<li><p>
Below, space before dot prevents interpretation as list item li. So just use the (1,2,3) format above.
</p>

<p>
4 . `m = (y_2 - y_1)/(x_2 - x_1) = (Delta y)/(Delta x)`
</p>

<p>
5 . `f'(x) = lim_(Delta x-&gt;0)(f(x+Delta x)-f(x))/(Delta x)`
</p>

<p>
6 . `d/dx [x^n] = nx^(n - 1)`
</p>

<p>
`7 . int_a^b f(x) dx = [F(x)]_a^b = F(b) - F(a)`
</p>

<p>
`8 . int_a^b f(x) dx = f(c) (b - a)`
</p>

<p>
`9 . "average value"=1/(b-a) int_a^b f(x) dx`
</p>

<p>
`10 . d/dx[int_a^x f(t) dt] = f(x)`
</p>

<p>
`11 . (a + b)^n = ∑_(k=0)^n▒(n¦k) a^k b^(n-k)` This is UnicodeMath
</p>

<p>
`12 . (a + b)^n = sum_(k=0)^n ((n), (k)) a^k b^(n-k)` This is AsciiMath
</p></li>

<li><p>
Use org <code>#+name: eqn:somesection-10</code> then <code>[ [eqn:] [1] ]</code> as reference (does not seem too good) 
</p>
<p>
(eqn.10) `m = (y_2 - y_1)/(x_2 - x_1) = (Delta y)/(Delta x)`
</p>
<ul class="org-ul">
<li>reference: <a href="#org37da9ec">somesection-10</a></li>
</ul></li>

<li>BEST Use <code>&lt; &lt;1.n&gt; &gt;(1.n)</code> before equation, then <code>[ [1.n] [1.n] ]</code> as reference
<ul class="org-ul">
<li><a id="orgcbd893e"></a> (section.10) `m = (y_2 - y_1)/(x_2 - x_1) = (Delta y)/(Delta x)`</li>
<li>reference: <a href="#orgcbd893e">section.10</a></li>
<li></li>
</ul></li>
</ol>
</div>


<div id="outline-container-org27e4017" class="outline-4">
<h4 id="org27e4017"><span class="section-number-4">17.1.1.</span> Numbering equations in ASCIIMath - a full example</h4>
<div class="outline-text-4" id="text-17-1-1">
<p>
So let's say have some chapters, and want to number all equations by chapter. This is how to do it
</p>
</div>

<div id="outline-container-org2c53fad" class="outline-5">
<h5 id="org2c53fad"><span class="section-number-5">17.1.1.1.</span> Combinatorics basics</h5>
<div class="outline-text-5" id="text-17-1-1-1">
<p>
In this chaptes, we introduce some basics The core equation is
</p>

<p>
`c^2 = a^2 + b^2` <a id="orgfca6242"></a>(basics.10) 
</p>
</div>
</div>

<div id="outline-container-org4ed9c41" class="outline-5">
<h5 id="org4ed9c41"><span class="section-number-5">17.1.1.2.</span> Combinatorics advanced</h5>
<div class="outline-text-5" id="text-17-1-1-2">
<p>
This is more advanced. In the basics section, we introduced <a href="#orgfca6242">basics.10</a>. In this chapter we will prove
</p>

<p>
`(a + b)^n = sum_(k=0)^n ((n), (k)) a^k b^(n-k)` <a id="org627c8b2"></a>(advanced.10)  
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org41f3278" class="outline-2">
<h2 id="org41f3278"><span class="section-number-2">18.</span> Section added 2019-08-03</h2>
<div class="outline-text-2" id="text-18">
<p>
Just a test of tools.
</p>
</div>
</div>
